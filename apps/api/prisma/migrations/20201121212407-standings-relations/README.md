# Migration `20201121212407-standings-relations`

This migration has been generated by Matthias Alif at 11/21/2020, 10:24:07 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "ConstructorStanding" ADD COLUMN     "constructorId" TEXT NOT NULL

ALTER TABLE "ConstructorStanding" ADD FOREIGN KEY("constructorId")REFERENCES "Constructor"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "DriverStanding" ADD FOREIGN KEY("driverId")REFERENCES "Driver"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201121211243-add-basic-entities..20201121212407-standings-relations
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -20,10 +20,11 @@
   url             String
   nationality     String
   seasons         Season[]
-  createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
+  createdAt      DateTime         @default(now())
+  updatedAt      DateTime         @updatedAt
+  DriverStanding DriverStanding[]
 }
 model Constructor {
   id          String   @id
@@ -32,21 +33,24 @@
   nationality String
   url         String
   seasons     Season[]
-  createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
+  createdAt           DateTime              @default(now())
+  updatedAt           DateTime              @updatedAt
+  ConstructorStanding ConstructorStanding[]
 }
 model DriverStanding {
-  position Int    @id
+  position Int @id
   points   Int
   wins     Int
-  driverId String
   seasonYear Int
   season     Season @relation(fields: [seasonYear], references: [year])
+  driver   Driver @relation(fields: [driverId], references: [id])
+  driverId String
+
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
 }
@@ -58,8 +62,11 @@
   season     Season @relation(fields: [seasonYear], references: [year])
   seasonYear Int
+  constructor   Constructor @relation(fields: [constructorId], references: [id])
+  constructorId String
+
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
 }
```
